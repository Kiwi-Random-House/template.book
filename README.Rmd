---
output: github_document
---

```{setup, include = FALSE}
try(remotes::install_cran(c("desc", "stringr", "yaml")))
```

```{r helpers, echo = FALSE}
generate_shield_src <- function(label = "codecov", message = "0%", color = "red"){
    replace_symbols <- function(x){
        x <- gsub("%", "%25", x)
        x <- gsub(" ", "%20", x)
        x <- gsub("-", "--", x)
        x <- gsub("_", "__", x)
        return(x)
    }

    paste0("https://img.shields.io/badge/", replace_symbols(label), "-", replace_symbols(message), "-", color, ".svg")
}
```

```{r badges}
desc_obj <- desc::description$new()
url_published <- desc_obj$get_urls()[1]
url_preview <- desc_obj$get_urls()[2]
```

# `r desc_obj$get_field("Title")`

<!-- badges: start -->
[![Published Version](`r generate_shield_src("Book Version", "Published", "0087BD")`)](`r url_published`)
[![Preview Version](`r generate_shield_src("Book Version", "Preview", "ff69b4")`)](`r url_preview`)
<!-- badges: end -->

---

`r desc_obj$get_field("Description")`